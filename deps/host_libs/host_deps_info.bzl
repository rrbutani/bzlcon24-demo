'''Description of host binaries and their shared object dependencies.

NOTE: Generated by `update_shared_libs.py`; prefer rerunning the script to
modifying this file manually.

Run as: `bazel run @host_deps//:regenerate`
(Note: you may need to uncomment the `use_repo` for `host_deps` in
MODULE.bazel first; alternatively look for an alias in the package where this
file lives)

You can also pass `-- <extra binaries to add>` to the above invocation.
'''

################################################################################
# begin: preserved

# Preserved Section
#
# The contents of this section are preserved verbatim.

# Extra binaries to pass to `update_shared_libs.py`.
#
# These will not land in `BINARIES` in the regenerated version of this file; use
# this for binary paths that, for example, come from non-constant starlark
# constructs.
EXTRA_BINARIES = [
    "/usr/bin/clang++-18",
    "/usr/bin/tree",
] + [
    "/bin/{}".format(name)
    for name in [
        # "bc", "m4",
        "awk", "basename", "cat", "chgrp", "chmod", "chown", "cksum",
        "cmp", "cp", "cut", "diff", "dirname", "echo", "env", "expand", "expr",
        "false", "find", "fold", "grep", "head", "iconv", "join", "kill",
        "link", "ln", "locale", "ls", "mkdir", "mkfifo", "more", "mv",
        "nice", "od", "paste", "patch", "printf", "pwd", "rm", "rmdir", "sed",
        "sh", "sleep", "sort", "split", "tail", "tee", "touch", "tr", "true",
        "uname", "unlink", "wc", "xargs", "realpath"
    ]
]

# Extra symlinks for the repository rule to create.
#
# Map from source path to (repo relative) dest path.
EXTRA_SYMLINKS = {}

# Extra data dependencies to add to the library filegroups.
#
# Map from the absolute realpath label of the library to a list of labels.
EXTRA_LIB_DATA_DEPS = {}

# Paths to symlinks that should *not* be resolved further when encountered.
#
# This can be used to paper over differences in exact versions of shared objects
# between machines.
FUZZY_DEP_PATHS = []

# end: preserved
################################################################################

REPO_NAME = "host_deps"

# Modifications to this list *will* persist when you run `:regenerate`.
#
# However, comments and starlark constructs will *not* be preserved. See
# `EXTRA_BINARIES` above if this is required.
BINARIES = [
    "/bin/bash",
]


def _mk_regen_script(ctx):
    script = ctx.executable.script
    script_runfiles = ctx.attr.script[DefaultInfo].default_runfiles

    # `run` will always set `PWD` to the main repo's dir under this target's
    # runfiles directory: https://github.com/bazelbuild/bazel/issues/2579#issuecomment-626840214
    #
    # to offer a way for other targets to invoke this script, we read
    # `RUNFILES_DIR`, if set:
    args = [
        '"${{RUNFILES_DIR-"."}}/{}"'.format(script.short_path),
            "--repo-name '{}'".format(ctx.attr.repo_name),
            "--package '{}'".format(ctx.attr.package),
            "--file-path '{}'".format(ctx.attr.file_path),
            "--package-within-main-repo-for-script '{}'".format(ctx.attr.script_package),
            "--file-path-within-package-for-script '{}'".format(ctx.attr.script_file_path),
            "--target-name-within-package-for-script '{}'".format(ctx.attr.script_target_name),
            "--show-diff",
    ] + [
        "'{}'".format(bin) for bin in ctx.attr.binaries
    ] + [
        "--extra-binary '{}'".format(bin) for bin in ctx.attr.extra_binaries
    ] + [
        "--fuzzy-dep-path '{}'".format(path) for path in ctx.attr.fuzzy_dep_paths
    ] + [ '"${@}"' ]

    out = "#!/usr/bin/env bash\n"
    out += "exec {}".format(" \\\n    ".join(args))

    update_script = ctx.actions.declare_file(ctx.label.name)
    ctx.actions.write(update_script, out, is_executable = True)

    runfiles = (
        ctx.runfiles([ctx.executable.script, ctx.file.current_info_file])
            .merge(script_runfiles)
    )
    return [
        DefaultInfo(executable = update_script, runfiles = runfiles)
    ]

make_regenerate_script = rule(
    implementation = _mk_regen_script,
    attrs = {
        "script": attr.label(
            executable = True,
            cfg = "exec",
        ),
        "current_info_file": attr.label(allow_single_file = True), # just for dep tracking purposes
        "binaries": attr.string_list(allow_empty = True),
        "extra_binaries": attr.string_list(allow_empty = True),
        "fuzzy_dep_paths": attr.string_list(allow_empty = True),
        "repo_name": attr.string(),
        "package": attr.string(),
        "file_path": attr.string(),
        "script_package": attr.string(),
        "script_file_path": attr.string(),
        "script_target_name": attr.string(),
    },
    executable = True,
)



def create_symlinks(rctx):
    '''Creates symlinks for the binaries + shared objects modeled in this file.

    Args:
        rctx: repository context object
    '''
    ### .bzl Files
    rctx.symlink(Label("@@//deps/host_libs:host_deps_info.bzl"), "info.bzl")


    ### Libraries
    rctx.symlink("/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2", "lib/x86_64-linux-gnu/ld-linux-x86-64.so.2")
    rctx.symlink("/lib64/ld-linux-x86-64.so.2", "lib64/ld-linux-x86-64.so.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libtinfo.so.6.4", "lib/x86_64-linux-gnu/libtinfo.so.6.4")
    rctx.symlink("/lib/x86_64-linux-gnu/libtinfo.so.6", "lib/x86_64-linux-gnu/libtinfo.so.6")
    rctx.symlink("/lib/x86_64-linux-gnu/libc.so.6", "lib/x86_64-linux-gnu/libc.so.6")
    rctx.symlink("/usr/lib/llvm-18/lib/libclang-cpp.so.18.1", "usr/lib/llvm-18/lib/libclang-cpp.so.18.1")
    rctx.symlink("/usr/lib/llvm-18/lib/libLLVM.so.1", "usr/lib/llvm-18/lib/libLLVM.so.1")
    rctx.symlink("/usr/lib/llvm-18/lib/libLLVM.so.18.1", "usr/lib/llvm-18/lib/libLLVM.so.18.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libffi.so.8.1.4", "lib/x86_64-linux-gnu/libffi.so.8.1.4")
    rctx.symlink("/lib/x86_64-linux-gnu/libffi.so.8", "lib/x86_64-linux-gnu/libffi.so.8")
    rctx.symlink("/lib/x86_64-linux-gnu/libedit.so.2.0.72", "lib/x86_64-linux-gnu/libedit.so.2.0.72")
    rctx.symlink("/lib/x86_64-linux-gnu/libedit.so.2", "lib/x86_64-linux-gnu/libedit.so.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libbsd.so.0.12.1", "lib/x86_64-linux-gnu/libbsd.so.0.12.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libbsd.so.0", "lib/x86_64-linux-gnu/libbsd.so.0")
    rctx.symlink("/lib/x86_64-linux-gnu/libmd.so.0.1.0", "lib/x86_64-linux-gnu/libmd.so.0.1.0")
    rctx.symlink("/lib/x86_64-linux-gnu/libmd.so.0", "lib/x86_64-linux-gnu/libmd.so.0")
    rctx.symlink("/lib/x86_64-linux-gnu/libm.so.6", "lib/x86_64-linux-gnu/libm.so.6")
    rctx.symlink("/lib/x86_64-linux-gnu/libz.so.1.3", "lib/x86_64-linux-gnu/libz.so.1.3")
    rctx.symlink("/lib/x86_64-linux-gnu/libz.so.1", "lib/x86_64-linux-gnu/libz.so.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libzstd.so.1.5.5", "lib/x86_64-linux-gnu/libzstd.so.1.5.5")
    rctx.symlink("/lib/x86_64-linux-gnu/libzstd.so.1", "lib/x86_64-linux-gnu/libzstd.so.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libxml2.so.2.9.14", "lib/x86_64-linux-gnu/libxml2.so.2.9.14")
    rctx.symlink("/lib/x86_64-linux-gnu/libxml2.so.2", "lib/x86_64-linux-gnu/libxml2.so.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libicuuc.so.74.2", "lib/x86_64-linux-gnu/libicuuc.so.74.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libicuuc.so.74", "lib/x86_64-linux-gnu/libicuuc.so.74")
    rctx.symlink("/lib/x86_64-linux-gnu/libicudata.so.74.2", "lib/x86_64-linux-gnu/libicudata.so.74.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libicudata.so.74", "lib/x86_64-linux-gnu/libicudata.so.74")
    rctx.symlink("/lib/x86_64-linux-gnu/libstdc++.so.6.0.33", "lib/x86_64-linux-gnu/libstdc++.so.6.0.33")
    rctx.symlink("/lib/x86_64-linux-gnu/libstdc++.so.6", "lib/x86_64-linux-gnu/libstdc++.so.6")
    rctx.symlink("/lib/x86_64-linux-gnu/libgcc_s.so.1", "lib/x86_64-linux-gnu/libgcc_s.so.1")
    rctx.symlink("/lib/x86_64-linux-gnu/liblzma.so.5.4.5", "lib/x86_64-linux-gnu/liblzma.so.5.4.5")
    rctx.symlink("/lib/x86_64-linux-gnu/liblzma.so.5", "lib/x86_64-linux-gnu/liblzma.so.5")
    rctx.symlink("/lib/x86_64-linux-gnu/libcrypto.so.3", "lib/x86_64-linux-gnu/libcrypto.so.3")
    rctx.symlink("/lib/x86_64-linux-gnu/libselinux.so.1", "lib/x86_64-linux-gnu/libselinux.so.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libpcre2-8.so.0.11.2", "lib/x86_64-linux-gnu/libpcre2-8.so.0.11.2")
    rctx.symlink("/lib/x86_64-linux-gnu/libpcre2-8.so.0", "lib/x86_64-linux-gnu/libpcre2-8.so.0")
    rctx.symlink("/lib/x86_64-linux-gnu/libacl.so.1.1.2302", "lib/x86_64-linux-gnu/libacl.so.1.1.2302")
    rctx.symlink("/lib/x86_64-linux-gnu/libacl.so.1", "lib/x86_64-linux-gnu/libacl.so.1")
    rctx.symlink("/lib/x86_64-linux-gnu/libattr.so.1.1.2502", "lib/x86_64-linux-gnu/libattr.so.1.1.2502")
    rctx.symlink("/lib/x86_64-linux-gnu/libattr.so.1", "lib/x86_64-linux-gnu/libattr.so.1")
    rctx.symlink("/usr/lib/x86_64-linux-gnu/libgmp.so.10.5.0", "usr/lib/x86_64-linux-gnu/libgmp.so.10.5.0")
    rctx.symlink("/usr/lib/x86_64-linux-gnu/libgmp.so.10", "usr/lib/x86_64-linux-gnu/libgmp.so.10")
    rctx.symlink("/usr/lib/x86_64-linux-gnu/libc.so.6", "usr/lib/x86_64-linux-gnu/libc.so.6")


    ### Binaries
    rctx.symlink("/bin/bash", "bin/bash")
    rctx.symlink("/usr/bin/clang++-18", "usr/bin/clang++-18")
    rctx.symlink("/usr/bin/tree", "usr/bin/tree")
    rctx.symlink("/bin/awk", "bin/awk")
    rctx.symlink("/bin/basename", "bin/basename")
    rctx.symlink("/bin/cat", "bin/cat")
    rctx.symlink("/bin/chgrp", "bin/chgrp")
    rctx.symlink("/bin/chmod", "bin/chmod")
    rctx.symlink("/bin/chown", "bin/chown")
    rctx.symlink("/bin/cksum", "bin/cksum")
    rctx.symlink("/bin/cmp", "bin/cmp")
    rctx.symlink("/bin/cp", "bin/cp")
    rctx.symlink("/bin/cut", "bin/cut")
    rctx.symlink("/bin/diff", "bin/diff")
    rctx.symlink("/bin/dirname", "bin/dirname")
    rctx.symlink("/bin/echo", "bin/echo")
    rctx.symlink("/bin/env", "bin/env")
    rctx.symlink("/bin/expand", "bin/expand")
    rctx.symlink("/bin/expr", "bin/expr")
    rctx.symlink("/bin/false", "bin/false")
    rctx.symlink("/bin/find", "bin/find")
    rctx.symlink("/bin/fold", "bin/fold")
    rctx.symlink("/bin/grep", "bin/grep")
    rctx.symlink("/bin/head", "bin/head")
    rctx.symlink("/bin/iconv", "bin/iconv")
    rctx.symlink("/bin/join", "bin/join")
    rctx.symlink("/bin/kill", "bin/kill")
    rctx.symlink("/bin/link", "bin/link")
    rctx.symlink("/bin/ln", "bin/ln")
    rctx.symlink("/bin/locale", "bin/locale")
    rctx.symlink("/bin/ls", "bin/ls")
    rctx.symlink("/bin/mkdir", "bin/mkdir")
    rctx.symlink("/bin/mkfifo", "bin/mkfifo")
    rctx.symlink("/bin/more", "bin/more")
    rctx.symlink("/bin/mv", "bin/mv")
    rctx.symlink("/bin/nice", "bin/nice")
    rctx.symlink("/bin/od", "bin/od")
    rctx.symlink("/bin/paste", "bin/paste")
    rctx.symlink("/bin/patch", "bin/patch")
    rctx.symlink("/bin/printf", "bin/printf")
    rctx.symlink("/bin/pwd", "bin/pwd")
    rctx.symlink("/bin/rm", "bin/rm")
    rctx.symlink("/bin/rmdir", "bin/rmdir")
    rctx.symlink("/bin/sed", "bin/sed")
    rctx.symlink("/bin/sh", "bin/sh")
    rctx.symlink("/bin/sleep", "bin/sleep")
    rctx.symlink("/bin/sort", "bin/sort")
    rctx.symlink("/bin/split", "bin/split")
    rctx.symlink("/bin/tail", "bin/tail")
    rctx.symlink("/bin/tee", "bin/tee")
    rctx.symlink("/bin/touch", "bin/touch")
    rctx.symlink("/bin/tr", "bin/tr")
    rctx.symlink("/bin/true", "bin/true")
    rctx.symlink("/bin/uname", "bin/uname")
    rctx.symlink("/bin/unlink", "bin/unlink")
    rctx.symlink("/bin/wc", "bin/wc")
    rctx.symlink("/bin/xargs", "bin/xargs")
    rctx.symlink("/bin/realpath", "bin/realpath")


    ### Extra
    for src, dest in EXTRA_SYMLINKS.items(): rctx.symlink(src, dest)


_BUILD_FILE = '''
load("//:info.bzl", "define_targets")
load("@rules_sh//sh:sh.bzl", "sh_binaries")

package(
    default_visibility = ["//visibility:public"],
)

EXTRA_ATTRS = dict()
{EXTRA_ATTRS_UPDATES}

define_targets(filegroup, sh_binaries, EXTRA_ATTRS)

exports_files(["info.bzl"])
'''

def _repo_impl(rctx):
    create_symlinks(rctx)

    extra_attrs_updates = [
        "EXTRA_ATTRS.update({k} = json.decode('{v}'))".format(k = k, v = v)
        for k, v in rctx.attr.extra_attrs_for_targets_as_json.items()
    ]
    rctx.file("BUILD.bazel", executable = False, content = _BUILD_FILE.format(
        EXTRA_ATTRS_UPDATES = "\n".join(extra_attrs_updates)
    ))

# This must be at the top-level or else Bazel crashes; see:
# https://github.com/bazelbuild/bazel/issues/16301
host_deps_repo = repository_rule(
    implementation = _repo_impl,
    environ = [],
    attrs = {
        "extra_attrs_for_targets_as_json": attr.string_dict(),
    },
    # Not sensitive to local system changes.
    local = False,
    configure = True,
    # Intended to operate on the host system, not an RBE machine.
    remotable = False,
)
def make_repo(extra_attrs = {}): host_deps_repo(
    name = REPO_NAME,
    extra_attrs_for_targets_as_json = {
        key: json.encode(value)
        for key, value in extra_attrs.items()
    }
)



# buildifier: disable=unnamed-macro
def define_targets(filegroup, sh_binary, extra_attrs = {}):
    '''Creates `filegroup`/`sh_binary` targets for the shared objects/binaries modeled.

    Also creates a target that, when run, regenerates this file.

    Args:
        filegroup: `filegroup`-like rule to use for shared object targets
            Unless you have specific requirements, use `native.filegroup`.
        sh_binary: `sh_binaries`-like rule to use for binary targets
            Unless you have specific requirements, use `sh_binaries` from
            `@rules_sh//sh:sh.bzl`.
        extra_attrs: Extra attributes (i.e. constraints, tags) to pass the
            `filegroup` and `sh_binary` rule invocations.
    '''
    ### Libraries:
    filegroup_ = lambda *args, **kw: filegroup(
        *args,
        **(kw | (
            {'data': kw.get('data', []) + EXTRA_LIB_DATA_DEPS.get(kw['srcs'][0], []) }
            if 'srcs' in kw else {}
        ) | extra_attrs),
    )
    filegroup_(
        name = "ld-linux-x86-64",
        srcs = [ ":lib/x86_64-linux-gnu/ld-linux-x86-64.so.2" ] + [
            # Symlinks:
            ":lib64/ld-linux-x86-64.so.2",
        ],
        data = [],
    )
    filegroup_(
        name = "libtinfo",
        srcs = [ ":lib/x86_64-linux-gnu/libtinfo.so.6.4" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libtinfo.so.6",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "lib__x86_64-linux-gnu__libc.so.6",
        srcs = [ ":lib/x86_64-linux-gnu/libc.so.6" ],
        data = [
            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libclang-cpp",
        srcs = [ ":usr/lib/llvm-18/lib/libclang-cpp.so.18.1" ],
        data = [
            # `libLLVM.so.18.1` as `/usr/lib/llvm-18/lib/libLLVM.so.18.1`
            ":libLLVM",

            # `libstdc++.so.6` as `/lib/x86_64-linux-gnu/libstdc++.so.6`
            ":libstdc++",

            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libLLVM",
        srcs = [ ":usr/lib/llvm-18/lib/libLLVM.so.1" ] + [
            # Symlinks:
            ":usr/lib/llvm-18/lib/libLLVM.so.18.1",
        ],
        data = [
            # `libffi.so.8` as `/lib/x86_64-linux-gnu/libffi.so.8`
            ":libffi",

            # `libedit.so.2` as `/lib/x86_64-linux-gnu/libedit.so.2`
            ":libedit",

            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libz.so.1` as `/lib/x86_64-linux-gnu/libz.so.1`
            ":libz",

            # `libzstd.so.1` as `/lib/x86_64-linux-gnu/libzstd.so.1`
            ":libzstd",

            # `libtinfo.so.6` as `/lib/x86_64-linux-gnu/libtinfo.so.6`
            ":libtinfo",

            # `libxml2.so.2` as `/lib/x86_64-linux-gnu/libxml2.so.2`
            ":libxml2",

            # `libstdc++.so.6` as `/lib/x86_64-linux-gnu/libstdc++.so.6`
            ":libstdc++",

            # `libgcc_s.so.1` as `/lib/x86_64-linux-gnu/libgcc_s.so.1`
            ":libgcc_s",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libffi",
        srcs = [ ":lib/x86_64-linux-gnu/libffi.so.8.1.4" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libffi.so.8",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libedit",
        srcs = [ ":lib/x86_64-linux-gnu/libedit.so.2.0.72" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libedit.so.2",
        ],
        data = [
            # `libtinfo.so.6` as `/lib/x86_64-linux-gnu/libtinfo.so.6`
            ":libtinfo",

            # `libbsd.so.0` as `/lib/x86_64-linux-gnu/libbsd.so.0`
            ":libbsd",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libbsd",
        srcs = [ ":lib/x86_64-linux-gnu/libbsd.so.0.12.1" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libbsd.so.0",
        ],
        data = [
            # `libmd.so.0` as `/lib/x86_64-linux-gnu/libmd.so.0`
            ":libmd",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libmd",
        srcs = [ ":lib/x86_64-linux-gnu/libmd.so.0.1.0" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libmd.so.0",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libm",
        srcs = [ ":lib/x86_64-linux-gnu/libm.so.6" ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libz",
        srcs = [ ":lib/x86_64-linux-gnu/libz.so.1.3" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libz.so.1",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libzstd",
        srcs = [ ":lib/x86_64-linux-gnu/libzstd.so.1.5.5" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libzstd.so.1",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libxml2",
        srcs = [ ":lib/x86_64-linux-gnu/libxml2.so.2.9.14" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libxml2.so.2",
        ],
        data = [
            # `libicuuc.so.74` as `/lib/x86_64-linux-gnu/libicuuc.so.74`
            ":libicuuc",

            # `libz.so.1` as `/lib/x86_64-linux-gnu/libz.so.1`
            ":libz",

            # `liblzma.so.5` as `/lib/x86_64-linux-gnu/liblzma.so.5`
            ":liblzma",

            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libicuuc",
        srcs = [ ":lib/x86_64-linux-gnu/libicuuc.so.74.2" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libicuuc.so.74",
        ],
        data = [
            # `libicudata.so.74` as `/lib/x86_64-linux-gnu/libicudata.so.74`
            ":libicudata",

            # `libstdc++.so.6` as `/lib/x86_64-linux-gnu/libstdc++.so.6`
            ":libstdc++",

            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libgcc_s.so.1` as `/lib/x86_64-linux-gnu/libgcc_s.so.1`
            ":libgcc_s",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libicudata",
        srcs = [ ":lib/x86_64-linux-gnu/libicudata.so.74.2" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libicudata.so.74",
        ],
        data = [],
    )
    filegroup_(
        name = "libstdc++",
        srcs = [ ":lib/x86_64-linux-gnu/libstdc++.so.6.0.33" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libstdc++.so.6",
        ],
        data = [
            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",

            # `libgcc_s.so.1` as `/lib/x86_64-linux-gnu/libgcc_s.so.1`
            ":libgcc_s",
        ],
    )
    filegroup_(
        name = "libgcc_s",
        srcs = [ ":lib/x86_64-linux-gnu/libgcc_s.so.1" ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "liblzma",
        srcs = [ ":lib/x86_64-linux-gnu/liblzma.so.5.4.5" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/liblzma.so.5",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libcrypto",
        srcs = [ ":lib/x86_64-linux-gnu/libcrypto.so.3" ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libselinux",
        srcs = [ ":lib/x86_64-linux-gnu/libselinux.so.1" ],
        data = [
            # `libpcre2-8.so.0` as `/lib/x86_64-linux-gnu/libpcre2-8.so.0`
            ":libpcre2-8",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "libpcre2-8",
        srcs = [ ":lib/x86_64-linux-gnu/libpcre2-8.so.0.11.2" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libpcre2-8.so.0",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libacl",
        srcs = [ ":lib/x86_64-linux-gnu/libacl.so.1.1.2302" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libacl.so.1",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libattr",
        srcs = [ ":lib/x86_64-linux-gnu/libattr.so.1.1.2502" ] + [
            # Symlinks:
            ":lib/x86_64-linux-gnu/libattr.so.1",
        ],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "libgmp",
        srcs = [ ":usr/lib/x86_64-linux-gnu/libgmp.so.10.5.0" ] + [
            # Symlinks:
            ":usr/lib/x86_64-linux-gnu/libgmp.so.10",
        ],
        data = [
            # `libc.so.6` as `/usr/lib/x86_64-linux-gnu/libc.so.6`
            ":usr__lib__x86_64-linux-gnu__libc.so.6",
        ],
    )
    filegroup_(
        name = "usr__lib__x86_64-linux-gnu__libc.so.6",
        srcs = [ ":usr/lib/x86_64-linux-gnu/libc.so.6" ],
        data = [
            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    filegroup_(
        name = "all-libraries",
        data = [
            ":ld-linux-x86-64",
            ":libtinfo",
            ":lib__x86_64-linux-gnu__libc.so.6",
            ":libclang-cpp",
            ":libLLVM",
            ":libffi",
            ":libedit",
            ":libbsd",
            ":libmd",
            ":libm",
            ":libz",
            ":libzstd",
            ":libxml2",
            ":libicuuc",
            ":libicudata",
            ":libstdc++",
            ":libgcc_s",
            ":liblzma",
            ":libcrypto",
            ":libselinux",
            ":libpcre2-8",
            ":libacl",
            ":libattr",
            ":libgmp",
            ":usr__lib__x86_64-linux-gnu__libc.so.6",
        ],
    )


    ### Binaries:
    sh_binary_ = lambda *args, **kw: sh_binary(
        *args,
        **(kw | extra_attrs),
    )
    sh_binary_(
        name = "bash",
        srcs = [":bin/bash"],
        data = [
            # `libtinfo.so.6` as `/lib/x86_64-linux-gnu/libtinfo.so.6`
            ":libtinfo",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "clang++-18",
        srcs = [":usr/bin/clang++-18"],
        data = [
            # `libclang-cpp.so.18.1` as `/usr/lib/llvm-18/lib/libclang-cpp.so.18.1`
            ":libclang-cpp",

            # `libLLVM.so.18.1` as `/usr/lib/llvm-18/lib/libLLVM.so.18.1`
            ":libLLVM",

            # `libstdc++.so.6` as `/lib/x86_64-linux-gnu/libstdc++.so.6`
            ":libstdc++",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "tree",
        srcs = [":usr/bin/tree"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "awk",
        srcs = [":bin/awk"],
        data = [
            # `libm.so.6` as `/lib/x86_64-linux-gnu/libm.so.6`
            ":libm",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "basename",
        srcs = [":bin/basename"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "cat",
        srcs = [":bin/cat"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "chgrp",
        srcs = [":bin/chgrp"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "chmod",
        srcs = [":bin/chmod"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "chown",
        srcs = [":bin/chown"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "cksum",
        srcs = [":bin/cksum"],
        data = [
            # `libcrypto.so.3` as `/lib/x86_64-linux-gnu/libcrypto.so.3`
            ":libcrypto",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "cmp",
        srcs = [":bin/cmp"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "cp",
        srcs = [":bin/cp"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libacl.so.1` as `/lib/x86_64-linux-gnu/libacl.so.1`
            ":libacl",

            # `libattr.so.1` as `/lib/x86_64-linux-gnu/libattr.so.1`
            ":libattr",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "cut",
        srcs = [":bin/cut"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "diff",
        srcs = [":bin/diff"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "dirname",
        srcs = [":bin/dirname"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "echo",
        srcs = [":bin/echo"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "env",
        srcs = [":bin/env"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "expand",
        srcs = [":bin/expand"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "expr",
        srcs = [":bin/expr"],
        data = [
            # `libgmp.so.10` as `/usr/lib/x86_64-linux-gnu/libgmp.so.10`
            ":libgmp",

            # `libc.so.6` as `/usr/lib/x86_64-linux-gnu/libc.so.6`
            ":usr__lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "false",
        srcs = [":bin/false"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "find",
        srcs = [":bin/find"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "fold",
        srcs = [":bin/fold"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "grep",
        srcs = [":bin/grep"],
        data = [
            # `libpcre2-8.so.0` as `/lib/x86_64-linux-gnu/libpcre2-8.so.0`
            ":libpcre2-8",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "head",
        srcs = [":bin/head"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "iconv",
        srcs = [":bin/iconv"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "join",
        srcs = [":bin/join"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "kill",
        srcs = [":bin/kill"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "link",
        srcs = [":bin/link"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "ln",
        srcs = [":bin/ln"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "locale",
        srcs = [":bin/locale"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "ls",
        srcs = [":bin/ls"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "mkdir",
        srcs = [":bin/mkdir"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "mkfifo",
        srcs = [":bin/mkfifo"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "more",
        srcs = [":bin/more"],
        data = [
            # `libtinfo.so.6` as `/lib/x86_64-linux-gnu/libtinfo.so.6`
            ":libtinfo",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "mv",
        srcs = [":bin/mv"],
        data = [
            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libacl.so.1` as `/lib/x86_64-linux-gnu/libacl.so.1`
            ":libacl",

            # `libattr.so.1` as `/lib/x86_64-linux-gnu/libattr.so.1`
            ":libattr",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "nice",
        srcs = [":bin/nice"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "od",
        srcs = [":bin/od"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "paste",
        srcs = [":bin/paste"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "patch",
        srcs = [":bin/patch"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "printf",
        srcs = [":bin/printf"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "pwd",
        srcs = [":bin/pwd"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "rm",
        srcs = [":bin/rm"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "rmdir",
        srcs = [":bin/rmdir"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "sed",
        srcs = [":bin/sed"],
        data = [
            # `libacl.so.1` as `/lib/x86_64-linux-gnu/libacl.so.1`
            ":libacl",

            # `libselinux.so.1` as `/lib/x86_64-linux-gnu/libselinux.so.1`
            ":libselinux",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "sh",
        srcs = [":bin/sh"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "sleep",
        srcs = [":bin/sleep"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "sort",
        srcs = [":bin/sort"],
        data = [
            # `libcrypto.so.3` as `/lib/x86_64-linux-gnu/libcrypto.so.3`
            ":libcrypto",

            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "split",
        srcs = [":bin/split"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "tail",
        srcs = [":bin/tail"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "tee",
        srcs = [":bin/tee"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "touch",
        srcs = [":bin/touch"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "tr",
        srcs = [":bin/tr"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "true",
        srcs = [":bin/true"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "uname",
        srcs = [":bin/uname"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "unlink",
        srcs = [":bin/unlink"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "wc",
        srcs = [":bin/wc"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "xargs",
        srcs = [":bin/xargs"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "realpath",
        srcs = [":bin/realpath"],
        data = [
            # `libc.so.6` as `/lib/x86_64-linux-gnu/libc.so.6`
            ":lib__x86_64-linux-gnu__libc.so.6",

            # `ld-linux-x86-64.so.2` as `/lib64/ld-linux-x86-64.so.2`
            ":ld-linux-x86-64",
        ],
    )
    sh_binary_(
        name = "all-binaries",
        deps = [
            ":bash",
            ":clang++-18",
            ":tree",
            ":awk",
            ":basename",
            ":cat",
            ":chgrp",
            ":chmod",
            ":chown",
            ":cksum",
            ":cmp",
            ":cp",
            ":cut",
            ":diff",
            ":dirname",
            ":echo",
            ":env",
            ":expand",
            ":expr",
            ":false",
            ":find",
            ":fold",
            ":grep",
            ":head",
            ":iconv",
            ":join",
            ":kill",
            ":link",
            ":ln",
            ":locale",
            ":ls",
            ":mkdir",
            ":mkfifo",
            ":more",
            ":mv",
            ":nice",
            ":od",
            ":paste",
            ":patch",
            ":printf",
            ":pwd",
            ":rm",
            ":rmdir",
            ":sed",
            ":sh",
            ":sleep",
            ":sort",
            ":split",
            ":tail",
            ":tee",
            ":touch",
            ":tr",
            ":true",
            ":uname",
            ":unlink",
            ":wc",
            ":xargs",
            ":realpath",
        ]
    )


    ### Runnable target to regenerate:
    make_regenerate_script(
        name = "regenerate",
        script = "@@//deps/host_libs:update_shared_libs",
        current_info_file = "//:info.bzl",
        binaries = BINARIES,
        extra_binaries = EXTRA_BINARIES,
        fuzzy_dep_paths = FUZZY_DEP_PATHS,
        repo_name = REPO_NAME,
        package = "deps/host_libs",
        file_path = "host_deps_info.bzl",
        script_package = "deps/host_libs",
        script_file_path = "update_shared_libs.py",
        script_target_name = "update_shared_libs",
    )

def get_label_for_binary_path(binary_path):
    PATH_TO_TARGET_NAME = {
        '/bin/bash': 'bash',
        '/usr/bin/clang++-18': 'clang++-18',
        '/usr/bin/tree': 'tree',
        '/bin/awk': 'awk',
        '/bin/basename': 'basename',
        '/bin/cat': 'cat',
        '/bin/chgrp': 'chgrp',
        '/bin/chmod': 'chmod',
        '/bin/chown': 'chown',
        '/bin/cksum': 'cksum',
        '/bin/cmp': 'cmp',
        '/bin/cp': 'cp',
        '/bin/cut': 'cut',
        '/bin/diff': 'diff',
        '/bin/dirname': 'dirname',
        '/bin/echo': 'echo',
        '/bin/env': 'env',
        '/bin/expand': 'expand',
        '/bin/expr': 'expr',
        '/bin/false': 'false',
        '/bin/find': 'find',
        '/bin/fold': 'fold',
        '/bin/grep': 'grep',
        '/bin/head': 'head',
        '/bin/iconv': 'iconv',
        '/bin/join': 'join',
        '/bin/kill': 'kill',
        '/bin/link': 'link',
        '/bin/ln': 'ln',
        '/bin/locale': 'locale',
        '/bin/ls': 'ls',
        '/bin/mkdir': 'mkdir',
        '/bin/mkfifo': 'mkfifo',
        '/bin/more': 'more',
        '/bin/mv': 'mv',
        '/bin/nice': 'nice',
        '/bin/od': 'od',
        '/bin/paste': 'paste',
        '/bin/patch': 'patch',
        '/bin/printf': 'printf',
        '/bin/pwd': 'pwd',
        '/bin/rm': 'rm',
        '/bin/rmdir': 'rmdir',
        '/bin/sed': 'sed',
        '/bin/sh': 'sh',
        '/bin/sleep': 'sleep',
        '/bin/sort': 'sort',
        '/bin/split': 'split',
        '/bin/tail': 'tail',
        '/bin/tee': 'tee',
        '/bin/touch': 'touch',
        '/bin/tr': 'tr',
        '/bin/true': 'true',
        '/bin/uname': 'uname',
        '/bin/unlink': 'unlink',
        '/bin/wc': 'wc',
        '/bin/xargs': 'xargs',
        '/bin/realpath': 'realpath',
    }

    return Label("@{}//:{}".format(REPO_NAME, PATH_TO_TARGET_NAME[binary_path]))
